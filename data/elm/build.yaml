---
  defaultShell: sh
  binaries:
    elm:
      executable: elm
      description: Elm programming language
      motivation: main command for Elm
      homepage: https://guide.elm-lang.org/install/elm.html
      diagnosis: elm | grep Elm 0.19
    whisker:
      executable: npx baldrick-whisker@latest
      description: ...
      motivation: ...
      homepage: ...
      diagnosis: npx baldrick-whisker@latest

  variables:
    githubAccount: githubAccount_Fixme
    projectName: projectName_Fixme
    copyright:
      holder: copyrightHolder_Fixme
      startYear: 2022
    license: BSD3
    project_yaml: script/data/project.yaml
    project_schema: ./script/schema/project.schema.json
    generate_sh: script/generate.sh
    colors: [green, orange, blue]
    animals: [cat, dog]
  
  tasks:
    test:
        title: Unit testing
        description: Run the unit tests
        motivation: Check that the units of code behave as intended
        visibility: public
        steps:
          - run: elm test
        catch:
          - run: echo "Errors occurs"
        finally:
          - run: echo "Cleaning up ..."
    generate:
        title: Generate code
        description: Generate code
        motivation: Generate code
        visibility: public
        parameters:
          only:
            description: only run this
        steps:
          - task: reset
          - shell: 
              run: "{whisker} render {project_yaml} {generate_hbs} {generate_sh}"
              if: "-f {generate_hbs}"
            if: project_yaml === project
          - runShell: sh {generate_sh}
            if: "-f {generate_sh}"
            unless: "-f .pause"
        catch:
          - run: echo "Errors occurs"
        finally:
          - run: echo "Cleaning up ... {copyright.holder}"
          - task: update
    generate_several:
        title: Generate code
        description: Generate code
        motivation: Generate code
        visibility: public
        steps:
          - task: reset
          - run: "echo {color} {animal}"
            matrix:
              color: colors
              animal: animals

          


